(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(18),a=n.n(i),s=n(8),o=(n(24),n(6)),l=(n(25),n(1)),u=Object(r.createContext)(),d=u.Provider,j=(u.Consumer,function(e){var t=e.children,n=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.error("error en custom hook:",r),t}})),c=Object(o.a)(n,2),i=c[0],a=c[1];return[i,function(t){try{window.localStorage.setItem(e,JSON.stringify(t)),a(t)}catch(n){console.error("error en custom hook, set value:",n)}}]}("Apikey",""),c=Object(o.a)(n,2),i=c[0],a=c[1];return Object(l.jsx)(d,{value:{Apikey:i,setApikey:a},children:t})}),b=n(2);n(27);function h(e){var t=e.title,n=e.id,r=e.url;return Object(l.jsxs)(s.b,{to:"/gifdetail/".concat(n),className:"Gif",children:[Object(l.jsx)("h4",{children:t}),Object(l.jsxs)("p",{children:["Id:",Object(l.jsx)("small",{children:n})]}),Object(l.jsx)("img",{src:r,alt:t})]})}var f=n(10),p=n.n(f),O=n(12);function g(){return(g=Object(O.a)(p.a.mark((function e(){var t,n,r,c,i,a,s,o,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.keyword,r=void 0===n?"morty":n,c=l.length>1?l[1]:void 0,console.log(c),i="https://api.giphy.com/v1/gifs/search?api_key=".concat(c,"&q=").concat(r,"&limit=5&offset=0&rating=g&lang=en"),e.prev=4,""===c){e.next=18;break}return e.next=8,fetch(i);case 8:return e.next=10,e.sent.json();case 10:if(a=e.sent,s=(a||{data:[]}).data,console.log("DATA:",s),void 0!==s){e.next=15;break}return e.abrupt("return",[]);case 15:return o=null===s||void 0===s?void 0:s.map((function(e){var t=e.images,n=e.title;return{id:e.id,title:n,url:t.downsized_medium.url}})),console.log(o),e.abrupt("return",o);case 18:return e.abrupt("return",[]);case 21:e.prev=21,e.t0=e.catch(4),console.log("ERROR:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})))).apply(this,arguments)}function x(){var e=Object(b.f)().keyword,t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)(!1),s=Object(o.a)(a,2),d=s[0],j=s[1],f=Object(r.useContext)(u).Apikey;return Object(r.useEffect)((function(){j(!0),function(){return g.apply(this,arguments)}({keyword:e},f).then((function(e){j(!1),i(e)}))}),[e]),d?Object(l.jsx)("span",{children:"Cargando..."}):Object(l.jsx)("div",{children:c.map((function(e){var t=e.id,n=e.title,r=e.url;return Object(l.jsx)(h,{title:n,id:t,url:r},t)}))})}function v(){var e=Object(r.useContext)(u),t=e.Apikey,n=e.setApikey;return Object(r.useEffect)((function(){}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("input",{placeholder:"Insert Apikey...",value:t,onChange:function(e){return n(e.target.value)}})})}function m(e){var t=e.title,n=e.id,r=e.url,c=e.directUrl,i=e.rating;return Object(l.jsxs)("div",{children:["Detail gif",Object(l.jsxs)("div",{children:["Id: ",n]}),Object(l.jsxs)("div",{children:["Title: ",t]}),Object(l.jsxs)("div",{children:["DirectUrl: ",Object(l.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:c})]}),Object(l.jsxs)("div",{children:["Rating: ",i]}),Object(l.jsx)("img",{src:r,alt:t})]})}function y(){return(y=Object(O.a)(p.a.mark((function e(){var t,n,r,c,i,a,s,o,l,u,d,j=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j.length>0&&void 0!==j[0]?j[0]:"",n=j.length>1?j[1]:void 0,r="https://api.giphy.com/v1/gifs/".concat(t,"?api_key=").concat(n),e.prev=3,""===n){e.next=17;break}return e.next=7,fetch(r);case 7:return e.next=9,e.sent.json();case 9:if(c=e.sent,i=(c||{data:[]}).data,console.log("DATA:",i),void 0!==i&&void 0!==i.title){e.next=14;break}return e.abrupt("return",null);case 14:return a=i.images,s=i.title,o=i.id,l=i.rating,u=i.embed_url,d=a.downsized_medium.url,e.abrupt("return",{id:o,title:s,url:d,directUrl:u,rating:l});case 17:return e.abrupt("return",null);case 20:e.prev=20,e.t0=e.catch(3),console.log("ERROR:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function k(){var e=Object(b.f)().id,t=Object(r.useState)({}),n=Object(o.a)(t,2),c=n[0],i=n[1];console.log("GifDetailPage:",e);var a=Object(r.useState)(!1),s=Object(o.a)(a,2),d=s[0],j=s[1],h=Object(r.useContext)(u).Apikey;return Object(r.useEffect)((function(){j(!0),function(){return y.apply(this,arguments)}(e,h).then((function(e){j(!1),i(e),console.log(e)}))}),[e]),d?Object(l.jsx)("span",{children:"Cargando..."}):c?Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Gif Detail"}),Object(l.jsx)(m,{title:c.title,id:c.id,url:c.url,directUrl:c.directUrl,rating:c.rating})]}):Object(l.jsx)("div",{children:"No data to display"})}var w=function(){var e=Object(r.useState)("Panda"),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(b.e)();return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("section",{className:"App-content",children:[Object(l.jsx)("h1",{children:"App"}),Object(l.jsx)("label",{children:"Search keyword"}),Object(l.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("button",{onClick:function(){return i.push("/gifsearch/".concat(n))},children:"Search"}),Object(l.jsx)(v,{}),Object(l.jsx)(s.b,{to:"/gifsearch/panda",children:"Gifs de pandas"}),Object(l.jsx)(s.b,{to:"/gifsearch/perro",children:"Gifs de perros"}),Object(l.jsx)(s.b,{to:"/gifsearch/gato",children:"Gifs de gatos"}),Object(l.jsx)(b.a,{component:x,path:"/gifsearch/:keyword"}),Object(l.jsx)(b.a,{component:k,path:"/gifdetail/:id"})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(j,{children:Object(l.jsx)(w,{})})})}),document.getElementById("root")),A()}},[[34,1,2]]]);
//# sourceMappingURL=main.4a721f71.chunk.js.map